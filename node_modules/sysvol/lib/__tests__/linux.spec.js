'use strict'

var os = require('os');
const { expect } = require('chai');
const { getVolume, setVolume } = require('../linux');

if (os.platform() == 'linux' && !process.env.CI) {
	describe('Linux module', () => {

		describe('getVolume', () => {
			it('should return a promise', () => {
				expect(getVolume).to.be.a('function')
			});

			it('should return an integer displaying the system volume', () => {
				getVolume().then((volume) => {
					expect(volume).to.be.a('number')
				});
			});
		});

		describe('setVolume', () => {
			it('should set the volume to the defined variable', (done) => {
				setVolume(50).then(() => {
					getVolume().then((newVolume) => {
						expect(newVolume).to.equal(50);
						done();
					})
				});
			});
		});

	});
}